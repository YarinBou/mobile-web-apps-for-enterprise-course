<html>
<head>
</head>
<body>
<h1>Yarin Calc!</h1>
<div style="margin: 10px">
<h2>please Click the start button before you start</h2>
    <button id="Start">Start</button>
</div>
<div  style="margin: 10px">
    <h3>pick your number:</h3>
    <input type="Number" id="num"></div>
<div style="margin: 10px">
    <h3>pick your action:</h3>
    <button id="Add">Add</button>
<button id="Subtract">Subtract</button>
<button id="Multiply">Multiply</button>
<button id="Divide">Divide</button>
<button id="Reset">Reset</button>
</div>
<div style="margin: 10px"><h3>I'm the current Value of M:</h3><label id="result">M = 0</label></div>

<script>
    window.onload = () => {

        document.getElementById('Start').addEventListener('click', async () => {
                await fetch(`http://localhost:3000/start`,
                    {method: 'POST'})
                    .then((res) => {
                        return res.json()
                    })
                    .then(body => document.getElementById("result").innerHTML = body["msg"])
            }
        )

        document.getElementById('Reset').addEventListener('click', async () => {
                await fetch(`http://localhost:3000/calc/reset`,
                    {method: 'POST'}).then((res) => {
                    return res.json()
                })
                    .then(body => document.getElementById("result").innerHTML = `M = ${body["msg"]}`)
            }
        )
        document.getElementById('Add').addEventListener('click', async () => {
                let num = document.getElementById("num").value
                await fetch(`http://localhost:3000/calc/add/${num}`,
                    {method: 'POST'}).then((res) => {
                    return res.json()
                })
                    .then(body => document.getElementById("result").innerHTML = `M = ${body["msg"]}`)
            }
        )
        document.getElementById('Subtract').addEventListener('click', async () => {
                let num = document.getElementById("num").value
                await fetch(`http://localhost:3000/calc/sub/${num}`,
                    {method: 'POST'}).then((res) => {
                    return res.json()
                })
                    .then(body => document.getElementById("result").innerHTML = `M = ${body["msg"]}`)
            }
        )
        document.getElementById('Multiply').addEventListener('click', async () => {
                let num = document.getElementById("num").value
                await fetch(`http://localhost:3000/calc/multiply/${num}`,
                    {method: 'PUT'}).then((res) => {
                    return res.json()
                })
                    .then(body => document.getElementById("result").innerHTML = `M = ${body["msg"]}`)
            }
        )
        document.getElementById('Divide').addEventListener('click', async () => {
                let num = document.getElementById("num").value
                await fetch(`http://localhost:3000/calc/divide/${num}`,
                    {method: 'PUT'}).then((res) => {
                    return res.json()
                })
                    .then(body => document.getElementById("result").innerHTML = `M = ${body["msg"]}`)
            }
        )
    }
</script>
</body>
</html>
